{"version":3,"sources":["index.js","constants.js","panels/TabAdmin.js","Components/Role.js","panels/EventSent.js","base.js","App.js","panels/EnterStart.js","panels/EnterFinish.js","panels/TabAccount.js","panels/AddIvent/Checkout.js","panels/AddIvent/AddressForm.js","panels/AddIvent/PaymentForm.js","panels/AddIvent/Review.js","panels/TabLost.js","panels/TabDonate.js","panels/EventInfo.js","Components/EventCard.js","panels/TabEvents.js","panels/TabMap.js","panels/TabWork.js","panels/Main.js"],"names":["connect","send","ReactDOM","render","document","getElementById","VIEW_ENTER","VIEW_MAIN","VIEW_EVENT_INFO","VIEW_EVENT_SENT","VIEW_WORK_INFO","PANEL_ENTER_START","PANEL_ENTER_FINISH","PANEL_MAIN","PANEL_EVENT_INFO","PANEL_EVENT_SENT","PANEL_WORK_INFO","TAB_EVENTS","TAB_WORK","TAB_MAP","TAB_ACCOUNT","TAB_LOST","TAB_DONATE","STATUS_DEFAULT","STATUS_REQUESTED","STATUS_APPROVED","panelsOrder","panels","getViewByPanel","panelId","Object","keys","find","viewName","indexOf","TabAdmin","props","state","title","date","shelter","allergy","place","status","description","global","that","this","Component","defaultProps","Role","name","current","need","className","EventSent","event","left","onClick","go","Array","isArray","roles","length","top","map","role","index","key","size","showPopout","setTimeout","hidePopout","update","activeTab","updateEventStatus","id","PropTypes","bool","string","node","number","App","RESP","url","fetch","referrerPolicy","then","response","json","result","jsn","events","error","console","log","RESPSH","shelters","RESPVLT","vlt","getJSON","callback","xhr","XMLHttpRequest","open","responseType","onload","loglog","err","data","connectListener","e","detail","type","exp","level","userInfo","setState","version","clientVersion","eventId","includes","Error","viewId","activeView","activePanels","newState","options","next","Promise","resolve","clean","popout","currentPanelId","currentViewId","reduce","acc","vkConnect","subscribe","vkConnectPromise","lat","lon","long","catch","phone_number","user_info","activePanel","theme","EnterStart","onButtonClick","placeholder","value","first_name","last_name","patronymic","EnterFinish","moment","require","locale","TabAccount","clicked","checkboxChange","vlt_i","method","headers","body","JSON","stringify","value1","loadWorksheep","i","push","flag","urlVK","toString","isAdmin","res","searcher","startPage","src","photo_200","max","bdate","format","onChange","alt","style","height","WorksheetSelector","Copyright","variant","color","align","href","Date","getFullYear","useStyles","makeStyles","appBar","position","layout","width","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","marginBottom","padding","stepper","buttons","display","justifyContent","button","steps","Checkout","classes","React","useState","activeStep","setActiveStep","Fragment","noWrap","component","label","gutterBottom","step","getStepContent","class","XP","AddressForm","container","item","xs","sm","target","breed","control","is__vacinated","PaymentForm","md","listItem","total","fontWeight","Review","TabLost","sending","token","access_token","post","htmlFor","TabDonate","donate","current_id","checked","EventInfo","cover","qrSvg","vkQr","createQR","qrSize","isShowLogo","dangerouslySetInnerHTML","__html","undefined","user_id","karma","EventCard","where","caption","data-badge-caption","wide","TabEvents","items","TabMap","isLoaded","defaultState","center","zoom","geometry","properties","hintContent","balloonContentHeader","balloonContentBody","balloonContentFooter","modules","float","TabWork","openEvent","eventName","currentTarget","getAttribute","workActiveTab","filter","selected","Main","onTabClick","dataset","onDonate","getTabComponent","window","location","reload","TabComponent","bottom","border","refreshPage","right","vertical","data-id"],"mappings":"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","file":"static/js/main.45083a44.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","export const VIEW_ENTER = 'enter';\r\nexport const VIEW_MAIN = 'main';\r\nexport const VIEW_EVENT_INFO = 'event_info';\r\nexport const VIEW_EVENT_SENT = 'event_sent';\r\nexport const VIEW_WORK_INFO = 'work_info';\r\n\r\nexport const PANEL_ENTER_START = 'enter_start';\r\nexport const PANEL_ENTER_FINISH = 'enter_finish';\r\nexport const PANEL_MAIN = 'main';\r\nexport const PANEL_EVENT_INFO = 'event_info';\r\nexport const PANEL_EVENT_SENT = 'event_sent';\r\nexport const PANEL_WORK_INFO = 'work_info';\r\n\r\nexport const TAB_EVENTS = 'events';\r\nexport const TAB_WORK = 'work';\r\nexport const TAB_MAP = 'map';\r\nexport const TAB_ACCOUNT = 'account';\r\nexport const TAB_ADMIN = 'admin';\r\nexport const TAB_LOST = 'lost';\r\nexport const TAB_DONATE = 'donate';\r\n\r\nexport const STATUS_DEFAULT = 1;\r\nexport const STATUS_REQUESTED = 2;\r\nexport const STATUS_APPROVED = 3;\r\n\r\nexport const panelsOrder = {\r\n  [VIEW_ENTER]: [PANEL_ENTER_START, PANEL_ENTER_FINISH],\r\n  [VIEW_MAIN]: [PANEL_MAIN],\r\n  [VIEW_EVENT_INFO]: [PANEL_EVENT_INFO],\r\n  [VIEW_EVENT_SENT]: [PANEL_EVENT_SENT],\r\n  [VIEW_WORK_INFO]: [PANEL_WORK_INFO],\r\n};\r\n\r\nexport const panels = [\r\n  PANEL_ENTER_START,\r\n  PANEL_ENTER_FINISH,\r\n  PANEL_MAIN,\r\n  PANEL_EVENT_INFO,\r\n  PANEL_EVENT_SENT,\r\n  PANEL_WORK_INFO\r\n];\r\n\r\nexport const getViewByPanel = (panelId) => {\r\n  return Object.keys(panelsOrder).find((viewName) => panelsOrder[viewName].indexOf(panelId) >= 0);\r\n};","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Checkout from './AddIvent/Checkout';\r\n\r\n\r\nexport default class TabAdmin extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n\r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        title: \"\",\r\n        date: \"\",\r\n        shelter: \"\",\r\n        allergy: \"\",\r\n        place: \"\",\r\n        status: \"\",\r\n        description: \"\", \r\n    };\r\n    global.that = this\r\n  }\r\n \r\n  render() {\r\n    const {  } = this.props;\r\n    return (\r\n        <Checkout>\r\n\r\n        </Checkout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Role.css';\r\nimport Icon24User from '@vkontakte/icons/dist/24/user';\r\n\r\nfunction Role(props) {\r\n  const { name, current, need } = props;\r\n\r\n  return (\r\n    <div className=\"EventRole\">\r\n      <div className=\"EventRole__name\">{name}</div>\r\n      <div className=\"EventRole__current\">{current}</div>\r\n      <div className=\"EventRole__delimiter\">/</div>\r\n      <div className=\"EventRole__need\">{need}</div>\r\n      <Icon24User />\r\n    </div>\r\n  );\r\n}\r\n\r\nRole.propTypes = {\r\n  name: PropTypes.node,\r\n  current: PropTypes.number,\r\n  need: PropTypes.number,\r\n};\r\n\r\nexport default Role;","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, Button, PanelHeaderBack, FormLayoutGroup, Radio, ScreenSpinner } from '@vkontakte/vkui';\r\nimport { TAB_WORK, PANEL_MAIN, PANEL_EVENT_INFO, STATUS_REQUESTED } from '../constants';\r\nimport { EventPropType } from '../base';\r\n\r\nexport default class EventSent extends Component {\r\n  static propTypes = {\r\n    event: PropTypes.shape(EventPropType),\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    showPopout: PropTypes.func.isRequired,\r\n    hidePopout: PropTypes.func.isRequired,\r\n    updateEventStatus: PropTypes.func,\r\n  };\r\n\r\n  render() {\r\n    const { event } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go(PANEL_EVENT_INFO)} />}>—</PanelHeader>\r\n\r\n        <div className=\"EventSent\">\r\n          <div className=\"EventSent__in\">\r\n            <FormLayout>\r\n              <div className=\"EventSent__title\">{event.title}</div>\r\n\t\t\t\t<div>Нажимая кнопку, Вы даете согласие на обработку своих данных.</div>\r\n              {Array.isArray(event.roles) && event.roles.length > 0 &&\r\n              <FormLayoutGroup top=\"Выберите должность\">\r\n                {event.roles.map((role, index) => {\r\n                  return (\r\n                    <Radio\r\n                      key={index}\r\n                      name=\"role\"\r\n                    >{role.name}</Radio>\r\n                  );\r\n                })}\r\n              </FormLayoutGroup>}\r\n\r\n              <Button size=\"xl\" onClick={() => {\r\n                this.props.showPopout(<ScreenSpinner />);\r\n                setTimeout(() => {\r\n                  this.props.hidePopout();\r\n                  this.props.update(PANEL_MAIN, { activeTab: TAB_WORK });\r\n                  this.props.updateEventStatus(this.props.event.id, STATUS_REQUESTED);\r\n                  this.props.go(PANEL_MAIN);\r\n                }, 1000);\r\n              }}>Отправить</Button>\r\n            </FormLayout>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import PropTypes from 'prop-types';\r\n\r\nexport const EventPropType = {\r\n  allergy: PropTypes.bool,\r\n  date: PropTypes.string,\r\n  description: PropTypes.string,\r\n  exp: PropTypes.node,\r\n  id: PropTypes.node,\r\n  place: PropTypes.string,\r\n  shelter: PropTypes.node\r\n};\r\n\r\nexport const UserPropType = {\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    surname: PropTypes.string,\r\n    age: PropTypes.number,\r\n  };","import React, { Component } from 'react';\r\nimport { Root, View, Panel } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './style.css';\r\nimport vkConnect from '@vkontakte/vk-connect';\r\nimport EnterStart from './panels/EnterStart';\r\nimport EnterFinish from './panels/EnterFinish';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\n\r\nimport { VIEW_ENTER, PANEL_MAIN, VIEW_MAIN, PANEL_ENTER_START, PANEL_ENTER_FINISH, panels, panelsOrder, getViewByPanel, VIEW_EVENT_INFO, PANEL_EVENT_INFO, PANEL_EVENT_SENT, VIEW_EVENT_SENT, VIEW_WORK_INFO, PANEL_WORK_INFO, STATUS_DEFAULT, STATUS_REQUESTED, STATUS_APPROVED } from './constants';\r\nimport Main from './panels/Main';\r\nimport EventInfo from './panels/EventInfo';\r\nimport EventSent from './panels/EventSent';\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const currentPanelId = PANEL_MAIN;\r\n    const currentViewId = getViewByPanel(currentPanelId);\r\n\r\n    this.state = {\r\n      activeView: currentViewId,\r\n      activePanels: Object.keys(panelsOrder).reduce((acc, viewId) => {\r\n        acc[viewId] = panelsOrder[viewId][0];\r\n        return acc;\r\n      }, {}),\r\n\r\n      ...panels.reduce((acc, panelId) => {\r\n        acc[panelId] = {};\r\n        return acc;\r\n      }, {}),\r\n    };\r\n  }\r\n\r\n    RESP = (url) => {\r\n    fetch(url, {referrerPolicy: \"unsafe-url\"})\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      global.jsn = result;\r\n      this.update(PANEL_MAIN, {events: global.jsn});\r\n    },\r\n    // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n    (error) => {\r\n      console.log(error)\r\n    });\r\n    }\r\n\r\n    RESPSH = (url) => {\r\n      fetch(url)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        global.shelters = result;\r\n      },\r\n      // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n      // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n      (error) => {\r\n        console.log(error)\r\n      });\r\n      }\r\n\r\n    RESPVLT = (url) => {\r\n      fetch(url)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        global.vlt = result;\r\n        \r\n      },\r\n      // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n      // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n      (error) => {\r\n        console.log(error)\r\n      });\r\n      console.log(url)\r\n      }\r\n\r\n  getJSON = (url, callback) => {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url, true);\r\n    xhr.responseType = 'json';\r\n    xhr.onload = function() {\r\n      var status = xhr.status;\r\n      if (status === 200) {\r\n        callback(null, xhr.response);\r\n      } else {\r\n        callback(status, xhr.response);\r\n      }\r\n    };\r\n    xhr.send();\r\n  }\r\n\r\n  loglog = (err, data) =>{\r\n    console.log(err, data)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.RESP('https://fedos.pythonanywhere.com/api/v1/task/getlist/?format=json')\r\n    this.RESPSH('https://fedos.pythonanywhere.com/api/v1/shelter/getlist/?format=json')\r\n    this.RESPVLT('https://fedos.pythonanywhere.com/api/v1/vlt/getlist/?format=json')\r\n    //this.getJSON('https://fedos.pythonanywhere.com/api/v1/task/getlist/?format=json', this.loglog)\r\n    console.log(global.jsn)\r\n    console.log(global.shelters)\r\n    console.log(global.vlt)\r\n    vkConnect.subscribe(this.connectListener);\r\n    vkConnect.send('VKWebAppGetUserInfo', {});\r\n    /*vkConnect.subscribe(this.connectListener);\r\n    vkConnect.send('VKWebAppGetUserInfo', {});*/\r\n\r\n    vkConnectPromise\r\n      .send('VKWebAppGetGeodata')\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.long;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n    vkConnectPromise\r\n      .send('VKWebAppGetPhoneNumber')\r\n      .then(data => {\r\n        // Handling received data\r\n        console.log(data.phone_number);\r\n        global.phone_number = '+' + data.phone_number;\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      })\r\n\r\n      vkConnectPromise\r\n      .send('VKWebAppGetUserInfo')\r\n      .then(data => {\r\n        // Handling received data\r\n        console.log(data)\r\n        global.user_info = data;\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n    \t\r\n  }\r\n\r\n  connectListener = (e) => {\r\n    const { type, data } = e.detail;\r\n\tconsole.log(data);\r\n    switch (type) {\r\n      case 'VKWebAppGetUserInfoResult':\r\n\t    {\r\n\t\t\t\r\n\t\t\tdata.exp = 0;\r\n\t\t\tdata.level = 3;\r\n      global.userInfo = data;\r\n      //global.userInfo.isAdmin = false;\r\n      \r\n\t\t\tthis.setState({ userInfo: data });\r\n\t\t\tbreak;\r\n\t\t}\r\n      case 'VKWebAppGetClientVersionResult':\r\n        const { version } = data;\r\n        this.setState({ clientVersion: version });\r\n        break;\r\n      case 'VKWebAppAccessTokenReceived': {\r\n        // const { access_token, secret } = data;\r\n        break;\r\n      }\r\n      case 'VKWebAppAccessTokenFailed':\r\n        // vkConnect.send('VKWebAppClose', { status: 'error', text: 'Доступ запрещен' });\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  updateEventStatus = (eventId, status) => {\r\n    const events = (this.state[PANEL_MAIN].events || []).map((event) => {\r\n      if (event.id === eventId) {\r\n        return { ...event, status };\r\n      }\r\n      return event;\r\n    });\r\n    this.update(PANEL_MAIN, { events: events });\r\n  }\r\n\r\n  go = (panelId) => {\r\n    if (!panels.includes(panelId)) {\r\n      throw new Error('[App.go] panelId is not found in panels');\r\n    }\r\n\r\n    const viewId = getViewByPanel(panelId);\r\n\r\n    this.setState({\r\n      activeView: viewId,\r\n      activePanels: {\r\n        ...this.state.activePanels,\r\n        [viewId]: panelId,\r\n      },\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Обновляет state панели\r\n   *\r\n   * @param {string} panelId id панели\r\n   * @param {object} newState Объект стейта, который нужно смержить с текущим\r\n   * @param {object} options\r\n   * @param {function} next Колбек, который будет вызван после обновления стейта\r\n   */\r\n  update = (panelId, newState, options = {}, next) => {\r\n    return new Promise((resolve) => {\r\n      if (options.clean) {\r\n        this.setState({ [panelId]: newState }, next || resolve);\r\n      } else {\r\n        this.setState((state) => ({\r\n          [panelId]: {\r\n            ...state[panelId],\r\n            ...newState,\r\n          },\r\n        }), next || resolve);\r\n      }\r\n    });\r\n  };\r\n\r\n  showPopout = (popout) => {\r\n    this.setState({ popout });\r\n  };\r\n\r\n  hidePopout = () => {\r\n    this.setState({ popout: null });\r\n  };\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <Root activeView={this.state.activeView} popout={this.state.popout}>\r\n        <View id={VIEW_ENTER} activePanel={this.state.activePanels[VIEW_ENTER]}>\r\n          <Panel id={PANEL_ENTER_START} theme=\"white\">\r\n            <EnterStart\r\n              {...this.state[PANEL_ENTER_START]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n          <Panel id={PANEL_ENTER_FINISH}>\r\n            <EnterFinish\r\n              {...this.state[PANEL_ENTER_FINISH]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_MAIN} activePanel={this.state.activePanels[VIEW_MAIN]}>\r\n          <Panel id={PANEL_MAIN}>\r\n            <Main\r\n              {...this.state[PANEL_MAIN]}\r\n              update={this.update}\r\n              go={this.go}\r\n              userInfo={this.state.userInfo}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_EVENT_INFO} activePanel={this.state.activePanels[VIEW_EVENT_INFO]}>\r\n          <Panel id={PANEL_EVENT_INFO}>\r\n            <EventInfo\r\n              {...this.state[PANEL_EVENT_INFO]}\r\n              update={this.update}\r\n              go={this.go}\r\n              updateEventStatus={this.updateEventStatus}\r\n              showPopout={this.showPopout}\r\n              hidePopout={this.hidePopout}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_EVENT_SENT} activePanel={this.state.activePanels[VIEW_EVENT_SENT]}>\r\n          <Panel id={PANEL_EVENT_SENT}>\r\n            <EventSent\r\n              {...this.state[PANEL_EVENT_SENT]}\r\n              update={this.update}\r\n              go={this.go}\r\n              showPopout={this.showPopout}\r\n              hidePopout={this.hidePopout}\r\n              updateEventStatus={this.updateEventStatus}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_WORK_INFO} activePanel={this.state.activePanels[VIEW_WORK_INFO]}>\r\n          <Panel id={PANEL_WORK_INFO}>\r\n            <EventSent\r\n              {...this.state[PANEL_WORK_INFO]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n        </View>\r\n      </Root>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\n//import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, Input, Button, Select, FormStatus } from '@vkontakte/vkui';\r\nimport { PANEL_ENTER_FINISH, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN } from '../constants';\r\n\r\nexport default class EnterStart extends Component {\r\n  static propTypes = {\r\n    first_name: PropTypes.func,\r\n    last_name: PropTypes.func,\r\n    patronymic: PropTypes.func,\r\n\r\n    error: PropTypes.node,\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    first_name: '',\r\n    last_name: '',\r\n    patronymic: '',\r\n  };\r\n\r\n  onButtonClick = () => {\r\n    this.props.go(PANEL_ENTER_FINISH);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>ПОЛИТЕХ</PanelHeader>\r\n        <FormLayout>\r\n          {this.props.error && <FormStatus state=\"error\">{this.props.error}</FormStatus>}\r\n\r\n          <Input\r\n            top=\"Имя\"\r\n          />\r\n          <Input\r\n            top=\"Фамилия\"\r\n          />\r\n          <Input\r\n            top=\"Отчество\"\r\n          />\r\n\r\n          <Select top=\"Дата рождения\" placeholder=\"День\" name=\"purpose\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n            <option value=\"13\">13</option>\r\n            <option value=\"14\">14</option>\r\n            <option value=\"15\">15</option>\r\n            <option value=\"16\">16</option>\r\n            <option value=\"17\">17</option>\r\n            <option value=\"18\">18</option>\r\n            <option value=\"19\">19</option>\r\n            <option value=\"20\">20</option>\r\n            <option value=\"21\">21</option>\r\n            <option value=\"22\">22</option>\r\n            <option value=\"23\">23</option>\r\n            <option value=\"24\">24</option>\r\n            <option value=\"25\">25</option>\r\n            <option value=\"26\">26</option>\r\n            <option value=\"27\">27</option>\r\n            <option value=\"28\">28</option>\r\n            <option value=\"29\">29</option>\r\n            <option value=\"30\">30</option>\r\n            <option value=\"31\">31</option>\r\n          </Select>\r\n          <Select placeholder=\"Месяц\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n          </Select>\r\n          <Select placeholder=\"Год\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n          </Select>\r\n\r\n          <Button size=\"xl\" onClick={this.onButtonClick}>Далее</Button>\r\n        </FormLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input } from '@vkontakte/vkui';\r\nimport { PANEL_MAIN } from '../constants';\r\n\r\nexport default class EnterFinish extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>Этап 2</PanelHeader>\r\n        <FormLayout>\r\n          <Input top=\"Ваш номер телефона\" />\r\n          <Input top=\"Ваш E-mail\" />\r\n\r\n          <Button onClick={() => this.props.go(PANEL_MAIN)}>ЗАРЕГИСТРИРОВАТЬСЯ</Button>\r\n        </FormLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport './TabAccount.css';\r\nimport TabAdmin from './TabAdmin';\r\nvar moment = require('moment');\r\nrequire('moment/locale/ru');\r\nmoment.locale('ru');\r\n\r\n\r\n\r\nexport default class TabAccount extends Component {\r\n  static propTypes = {\r\n    userInfo: PropTypes.object,\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n    userInfo: {\r\n      first_name: 'Негр',\r\n      last_name: 'Танцующий',\r\n      photo_200: 'http://pics.wikireality.ru/upload/thumb/f/f4/82f2426f2971.jpg/300px-82f2426f2971.jpg',\r\n      bdate: '12.11.2000',\r\n\t  exp: 280,\r\n\t  level: 1\r\n    },\r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\t\r\n  checkboxChange = () => {\r\n\t  // ХЕНДЛЕР ДЛЯ ЧЕКБОКСА\r\n\t  fetch('https://fedos.pythonanywhere.com/api/v1/vlt/detail/'+global.vlt[global.vlt_i].id, {\r\n      method: 'PUT', // Method itself\r\n      headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n      'id': global.vlt[global.vlt_i].id,\r\n\t  'allergy': !global.vlt[global.vlt_i].allergy\r\n      })});\r\n      global.vlt[global.vlt_i].allergy = !global.vlt[global.vlt_i].allergy;\r\n      console.log(global.vlt[global.vlt_i].allergy)\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { userInfo } = this.props;\r\n    console.log(global.shelters);\r\n    const karma = 150;\r\n    \r\n    var flag = false;\r\n    for (var i = 0; i < global.vlt.length; i++){\r\n      if (global.vlt[i].urlVK === (global.user_info.id).toString()) {\r\n\t\t    global.vlt_i = i;\r\n        flag = true;\r\n        global.userInfo.isAdmin = global.vlt[i].isAdmin;\r\n        console.log(global.vlt[global.vlt_i]);\r\n        console.log(global.userInfo.isAdmin)\r\n      }\r\n    } \r\n  \r\n    if (!flag){\r\n      console.log('flag')\r\n      fetch('https://fedos.pythonanywhere.com/api/v1/vlt/create/', {\r\n      method: 'POST', // Method itself\r\n      headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n      //'birth_date': global.user_info.bdate,\r\n      'phone': global.phone_number,\r\n      'vorname': global.user_info.first_name,\r\n      'nachname': global.user_info.last_name,\r\n      'urlVK': global.user_info.id,\r\n      //'profile_image': global.user_info.photo_200,\r\n      })}).then(function(res){  })\r\n      .catch(function(res){ console.log(res) });\r\n\r\n    }\r\n\r\n    const isAdmin = true;\r\n\r\n    console.log(global.user_info)\r\n    console.log(flag)\r\n    var searcher = {};\r\n    for (var i = 0; i < global.shelters.length; i++){\r\n      searcher[global.shelters[i].urlVK] = global.shelters[i].title;\r\n      const startPage = (\r\n        <Fragment>\r\n        <div className=\"Account\">\r\n          <div className=\"Account__in\">\r\n            <div className=\"Account__data\">\r\n              {/* <div className=\"Account__dataTabs\">\r\n                <Tabs>\r\n                  <TabsItem>Данные</TabsItem>\r\n                  <TabsItem>Отзывы</TabsItem>\r\n                  <TabsItem>История</TabsItem>\r\n                </Tabs>\r\n              </div> */}\r\n\r\n              <FormLayout>\r\n\r\n                <div className=\"Account__header\">\r\n\r\n                  <div className=\"Account__info\">\r\n                  <div className=\"Account__hero\">\r\n                    <div className=\"Account__avatar\">\r\n                      <img src={userInfo.photo_200} />\r\n                    </div>\r\n                    <div className=\"Account__name\">{userInfo.first_name} {userInfo.last_name}</div>\r\n                    <div className=\"Account__name Account__level\"> Уровень {1}</div>\r\n                  </div>\r\n                  <div className=\"Account_progress\">\r\n                    <progress value={150} max={1000}></progress><br/>\r\n                    {150}/{1000}\r\n                  </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                {/*<img src='https://media.giphy.com/media/j0H0I4ycvwZHO58mHq/giphy.gif' />*/}\r\n                <div className=\"User__info\">\r\n                  <div className=\"User__bdate\">\r\n                    <h6 className=\"User__bdate title\">\r\n                      День рождения:\r\n                    </h6>\r\n                    {moment(userInfo.bdate, \"DD-MM-YYYY\").format(\"DD MMMM\")}\r\n                  </div>\r\n                  <div className=\"User__phone__number\">\r\n                    <h6 className=\"User__number title\">\r\n                      Номер телефона:\r\n                    </h6>\r\n                    {global.phone_number}\r\n                    <p>&emsp;\r\n                      <label>\r\n                        <input type=\"checkbox\" onChange={this.checkboxChange}/>\r\n                        <span>Наличие аллергии на животных {}</span>\r\n                      </label>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <center>\r\n                  <div className=\"mascot\">\r\n                    <img src='https://media.giphy.com/media/XG0dcmHUNBNOlKlPSy/giphy.gif' />\r\n                  </div>\r\n                  <img src='https://barcode.tec-it.com/barcode.ashx?data=AA1234' alt=\"Карта волонтера\" />\r\n                </center>\r\n\r\n\r\n{/*        <div className=\"Account_admin\">\r\n              {global.userInfo.isAdmin && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => \r\n                  { \r\n                  this.setState({loadWorksheep: true})\r\n                }}\r\n            >\r\n                Страница администратора\r\n              </Button>)}\r\n                \r\n              \r\n              \r\n        </div>*/}\r\n              </FormLayout>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <div>\r\n            Карма\r\n        </div>\r\n        <div>\r\n          <FormLayout>\r\n            <File top=\"Загрузите ваше фото\" before={<Icon28Camera />} size=\"l\">\r\n            Открыть галерею\r\n            </File>\r\n            <InfoRow title=\"Default\">\r\n              <Progress value={40} />\r\n            </InfoRow>\r\n          </FormLayout>\r\n        </div> */}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n      );\r\n\r\n    return (\r\n      <div>{ this.state.loadWorksheep ? <WorksheetSelector/> : startPage }</div>\r\n    );\r\n  }\r\n  }\r\n}\r\n\r\nfunction WorksheetSelector(props) {\r\n  return (\r\n    <TabAdmin></TabAdmin>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddressForm from './AddressForm';\r\nimport PaymentForm from './PaymentForm';\r\nimport Review from './Review';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://vk.com/haxephado\">\r\n        Tragic City\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst steps = ['Описание', 'Дополнительные сведения', 'Проверка'];\r\n\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <AddressForm />;\r\n    case 1:\r\n      return <PaymentForm />;\r\n    case 2:\r\n      return <Review />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\nexport default function Checkout() {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n\r\n  const handleNext = () => {\r\n    setActiveStep(activeStep + 1);\r\n     if (activeStep == 2) {\r\n      fetch('https://fedos.pythonanywhere.com/api/v1/task/create/', {method: 'POST', // Method itself\r\n      headers: {\r\n       'Accept': 'application/json',\r\n       'Content-Type': 'application/json'\r\n       },\r\n      body: JSON.stringify({\r\n        'title':  global.that.state.title,\r\n        'place': global.that.state.place,\r\n        'description': global.that.state.description,\r\n        'shelter': global.that.state.shelter,\r\n        'allergy': global.that.state.allergy,\r\n        'exp': global.that.state.XP,    \r\n    })});\r\n    fetch('https://fedos.pythonanywhere.com/api/v1/task/getlist/?format=json')\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      global.jsn = result;\r\n    },\r\n    // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n    (error) => {\r\n      console.log(error)\r\n    });\r\n     }\r\n   };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n            Создание нового задания\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n            Мероприятие\r\n          </Typography>\r\n          <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map(label => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          <React.Fragment>\r\n            {activeStep === steps.length ? (\r\n              <React.Fragment>\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Спасибо за помощь!\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                  Ваше задание уже размещено в приложении!\r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(activeStep)}\r\n\r\n                <div class=\"create__event__btn\" style={{marginBottom: 60}}>\r\n\r\n                  {activeStep !== 0 && (\r\n                    <Button onClick={handleBack} className={classes.button}>\r\n                      Назад\r\n                    </Button>\r\n                  )}\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {activeStep === steps.length - 1 ? 'Разместить задание' : 'Далее'}\r\n                  </Button>\r\n\r\n                </div>\r\n\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n  }\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nexport default function AddressForm() { \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Добавить событие\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={6}>\r\n          <span class=\"textView\">Название</span>\r\n          <input type=\"text\" value={global.that.state.title} onChange={(e)=> {\r\n            global.that.setState({title: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n        <span class=\"textView\">Место мероприятия</span>\r\n          <input type=\"text\" value = {global.that.state.place} onChange={(e)=> {\r\n            global.that.setState({place: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n          <span class=\"textView\">Описание</span>\r\n        <input type=\"text\" value = {global.that.state.description} onChange={(e)=> {\r\n            global.that.setState({description: e.target.value})\r\n          }}>\r\n          </input>\r\n          <span className=\"textView\">Порода животного</span>\r\n          <input type=\"text\" value={global.that.state.breed} onChange={(e) => {\r\n              global.that.setState({breed: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <br/>  \r\n          <FormControlLabel \r\n            control={<Checkbox color=\"seßcondary\" name=\"saveAddress\" value=\"yes\" \r\n            onChange={(e)=>{\r\n              global.that.setState({allergy: e.target.value})\r\n            }} />}\r\n            label=\"Это задание может быть выполнено алергиком\"\r\n          />\r\n          <br/>\r\n          <FormControlLabel\r\n              control={<Checkbox color=\"seßcondary\" name=\"is__vacinated\" value=\"yes\"\r\n                                 onChange={(e)=>{\r\n                                   global.that.setState({is__vacinated: e.target.value})\r\n                                 }} />}\r\n              label=\"Животное привито\"\r\n          />\r\n        </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n\r\nexport default function PaymentForm() {\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Дополнительные сведения\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={6}>\r\n            <span class=\"textView\">Идентификационный номер приюта</span>\r\n            <input type=\"text\" value = {global.that.state.shelter} onChange={(e)=> {\r\n                global.that.setState({shelter: e.target.value})\r\n            }}>\r\n          </input>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <span class=\"textView\">Дата</span>\r\n          <input type=\"date\" value = {global.that.state.date} onChange={(e)=> {\r\n                global.that.setState({date: e.target.value})\r\n            }}>\r\n          </input>       \r\n          </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <span class=\"textView\">Награда в очках опыта</span>\r\n          <input type=\"text\" value = {global.that.state.XP} onChange={(e)=> {\r\n            global.that.setState({XP: e.target.value})\r\n          }}>\r\n          </input>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './Review.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  listItem: {\r\n    padding: theme.spacing(1, 0),\r\n  },\r\n  total: {\r\n    fontWeight: '700',\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Review() {\r\n  const classes = useStyles();\r\n\r\n    \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Проверка\r\n      </Typography>\r\n      <div class=\"newEventInfo\">\r\n          <div class=\"newEventInfo__place\">\r\n              <br/>\r\n              <span><b>Место</b> -- {global.that.state.place}</span>\r\n          </div>\r\n          <div class=\"neEventInfo__title\">\r\n              <br/>\r\n              <span><b>Название</b> -- {global.that.state.title}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n              <br/>\r\n              <span><b>Дата</b> -- {global.that.state.date}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n             <br/>\r\n              <span><b>Приют</b> -- {global.that.state.shelter}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n          <b>Описание</b> <br/>\r\n              <span>{global.that.state.description}</span>\r\n          </div>  \r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\nimport vkConnect from '@vkontakte/vk-connect';\r\nimport \"./TabLost.css\";\r\nimport TabAdmin from \"./TabAdmin\";\r\n\r\nconst x = document.getElementById(\"geo_placeholder\");\r\n\r\n\r\nexport default class TabLost extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n      \r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false,\r\n      post: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\r\n\r\n\r\n  sending = () => {\r\n    //.log(vkConnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7175703, \"scope\": \"wall\"}))\r\n    vkConnectPromise\r\n      .send('VKWebAppGetAuthToken', {\"app_id\": 7175703, \"scope\": \"wall, notes, messages\"})\r\n      .then(data => {\r\n        global.token = data.access_token;\r\n        console.log(global.token)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n      //vkConnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"wall.post\", \"request_id\": \"32test\", \"params\": {\"owner_id\": global.user_info.id, \"from_group\": 0, \"message\": 'test', \"v\":\"5.102\", \"access_token\":global.token}});\r\n      vkConnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"messages.send\", \"request_id\": \"32test\", \"params\": {\"random_id\": \"12313132\", \"user_id\": 147993097, \"message\": 'test', \"v\":\"5.102\", \"access_token\": 'vbxhTPebYzKN38FStxtmSY9SM1tA_E8sVvqjnuFRhYgsbVUVbOBIuTtPToBYbKb8'}});\r\n\r\n      vkConnectPromise\r\n      .send('VKWebAppGetGeodata')\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.long;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n      fetch('https://fedos.pythonanywhere.com/api/v1/post/send/', {\r\n        method: 'PUT', // Method itself\r\n        headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          \"id\": 14,\r\n          \"description\": document.getElementById(\"dsc\").value,\r\n          \"place\": document.getElementById(\"place\").value,\r\n          \"custom\": document.getElementById(\"prm\").value,\r\n          \"lat\": global.lat,\r\n          \"lon\": global.lon\r\n      })});\r\n      \r\n  }  \r\n\r\n  render() {\r\n    const { userInfo } = this.props;\r\n      const startPage = (\r\n        <Fragment>\r\n          <div>\r\n            <center>\r\n              {!this.state.post &&\r\n              <form>\r\n                <div className=\"input-field col s12\">\r\n                  <textarea id=\"dsc\" className=\"materialize-textarea\"></textarea>\r\n                  <label htmlFor=\"dsc\">Описание проблемы</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n\r\n                  <textarea id=\"place\" className=\"materialize-textarea\"></textarea>\r\n                  <label htmlFor=\"place\">Примерное местоположение</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                  <textarea id=\"prm\" className=\"materialize-textarea \"></textarea>\r\n                  <label htmlFor=\"prm\">Особые приметы</label>\r\n                </div>\r\n                <Button size=\"xl\" value='Сообщить' onClick={() => {\r\n                  this.sending();\r\n                  this.setState({post: true})\r\n                }}>Сообщить</Button>\r\n                <br />\r\n                <div className=\"Account_admin\">\r\n                   <Button size=\"xl\"\r\n                      onClick={() =>\r\n                      {\r\n                        this.setState({loadWorksheep: true})\r\n                      }}\r\n                  >\r\n                    Создать задание\r\n                  </Button>\r\n\r\n\r\n\r\n                </div>\r\n              </form>\r\n              }\r\n              {this.state.post &&\r\n              <div className='posted'>Ваш пост отправлен на обработку!</div>\r\n              }\r\n            </center>\r\n          </div>\r\n\r\n      </Fragment>\r\n      );\r\n    return (\r\n        <div>{ this.state.loadWorksheep ? <WorksheetSelector/> : startPage }</div>\r\n\r\n    );\r\n  }\r\n  }\r\n\r\n\r\nfunction WorksheetSelector(props) {\r\n  return (\r\n      <TabAdmin></TabAdmin>\r\n  );\r\n}\r\n\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport \"./TabDonate.css\"\r\n\r\n\r\n\r\nexport default class TabDonate extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n      \r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\r\ndonate = () =>{\r\n    //connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 6396978, \"action\": \"pay-to-service\", \"params\": {\"group_id\": 180054668}});\r\n    /*vkConnectPromise\r\n      .send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"transfer-to-user\", \"params\": {\"user_id\": global.current_id}})\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.lon;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });*/\r\n      console.log(global.current_id)\r\n      connect.send(\"VKWebAppInit\", {});\r\n      connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"transfer-to-user\", \r\n            \"params\": {\"user_id\": global.current_id}});\r\n}\r\n\r\nrender() {\r\n    const items = this.props.events;\r\n    return (\r\n      <Fragment>\r\n          <form class=\"donate__form\">\r\n              <br />\r\n              <div className=\"img-cat\">\r\n                  <img src=\"https://media.giphy.com/media/VfEezN7imWsqHpAFL3/giphy.gif\"\r\n                                     className=\"donate_cat\"/></div>\r\n<br />\r\n              <h6>Помогите приютам</h6>\r\n        {global.shelters.map((shelter) => {\r\n          return (\r\n            <p>&emsp;\t    \r\n            <label>\r\n              <input type=\"checkbox\" id={shelter.id} onChange={()=>{\r\n                  for (var i=0; i< global.shelters.length; i++) {\r\n                    document.getElementById(global.shelters[i].id).checked=false;\r\n                  }\r\n                  document.getElementById(shelter.id).checked=true;\r\n                  global.current_id = shelter.urlVK;\r\n                }}/>\r\n              <span class=\"shelter__title\"> {shelter.title}</span>\r\n            </label>\r\n            \r\n          </p>\r\n          );\r\n        })}\r\n        <Button size=\"xl\" value='Сообщить' onClick={this.donate}>Отправить</Button>\r\n        </form>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, Button, PanelHeaderBack, Separator, Footer, PopoutWrapper } from '@vkontakte/vkui';\r\nimport { PANEL_MAIN, PANEL_EVENT_SENT, STATUS_DEFAULT, STATUS_REQUESTED, STATUS_APPROVED, PANEL_EVENT_INFO } from '../constants';\r\n\r\nimport { EventPropType } from '../base';\r\nimport Role from '../Components/Role';\r\nimport './EventInfo.css';\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport vkQr from 'vk-qr';\r\n\r\nexport default class EventInfo extends Component {\r\n  static propTypes = {\r\n    event: PropTypes.shape(EventPropType),\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    updateEventStatus: PropTypes.func,\r\n    hidePopout: PropTypes.func,\r\n    showPopout: PropTypes.func,\r\n  };\r\n\r\n  render() {\r\n    const { event } = this.props;\r\n\t\r\n\tvar shelter;\r\n\tfor (var i=0; i< global.shelters.length; i++){\r\n\t\tif (event.shelter === global.shelters[i].id){\r\n\t\t\tshelter = global.shelters[i];\r\n\t\t}\r\n\t}\r\n\t\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader\r\n          left={<PanelHeaderBack onClick={() => this.props.go(PANEL_MAIN)} />}\r\n        >{event.title}\r\n        </PanelHeader>\r\n\r\n        <div className=\"EventInfo\">\r\n          <div className=\"EventInfo__in\">\r\n            {event.cover && <div className=\"EventInfo__cover\">\r\n              <img src={event.cover} />\r\n              {event.status === STATUS_APPROVED &&\r\n              <div className=\"EventInfo__qr\" onClick={() => {\r\n                const qrSvg = vkQr.createQR(event.title, {\r\n                  qrSize: 182,\r\n                  isShowLogo: true,\r\n                });\r\n\r\n                this.props.showPopout(\r\n                  <PopoutWrapper\r\n                    onClick={() => this.props.hidePopout()}\r\n                  >\r\n                    <div className=\"EventInfoQr\">\r\n                      <div className=\"EventInfoQr__title\">Персональный QR Code</div>\r\n                      <div className=\"EventInfoQr__svg\">\r\n                        <div dangerouslySetInnerHTML={{ __html: qrSvg }} />\r\n                      </div>\r\n                      <div className=\"EventInfoQr__caption\">Дайте отсканировать этот QR ментору на площадке</div>\r\n                      <div className=\"EventInfoQr__caption\">Не забудьте, свой QR нужно показать на входе и на выходе</div>\r\n                    </div>\r\n                  </PopoutWrapper>\r\n                );\r\n              }}>\r\n                <Icon24Qr width={28} height={28} />\r\n              </div>}\r\n            </div>}\r\n\r\n            <div className=\"EventInfo__title\">{event.title}</div>\r\n            {event.place && <div className=\"EventInfo__where\">{event.place}<br/>{shelter===undefined ? (<div></div>) : shelter.title }<br/>{event.date}</div>}\r\n\r\n          \r\n\r\n            <div\r\n              className=\"EventInfo__description\"\r\n              dangerouslySetInnerHTML={{ __html: event.description }}\r\n            />\r\n\r\n            <div className=\"EventInfo__footer\">\r\n              {event.status === STATUS_DEFAULT &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  event.user_id = global.userInfo.id;\r\n\t\t\t\tfetch('https://fedos.pythonanywhere.com/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 2, 'user_id': toString(global.userInfo.id)}) })\r\n\r\n                this.props.update(PANEL_EVENT_SENT, { event });\r\n                this.props.go(PANEL_EVENT_SENT);\r\n              }}>Подать заявку</Button>}\r\n\r\n              {event.status === STATUS_REQUESTED &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  event.user_id = 0;\r\n\t\t\t\t  fetch('https://fedos.pythonanywhere.com/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 1, 'user_id': 0}) })\r\n                this.props.updateEventStatus(event.id, STATUS_DEFAULT);\r\n                this.props.update(PANEL_EVENT_INFO, {\r\n                  event: {\r\n                    ...event,\r\n                    status: STATUS_DEFAULT,\r\n                  },\r\n                });\r\n              }}>Отменить заявку</Button>}\r\n\t\t\t  {(global.userInfo.isAdmin && event.user_id) &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  fetch('https://fedos.pythonanywhere.com/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 3}) })\r\n        //global.userInfo.exp += event.exp;\r\n        for (var i = 0; i < global.vlt.length; i++){\r\n          if (global.vlt[i].urlVK === (global.user_info.id).toString()) {\r\n            global.vlt_i = i;\r\n          }\r\n        }\r\n\r\n        global.vlt[global.vlt_i].karma += event.exp;\r\n\r\n        console.log(global.vlt[global.vlt_i].karma)\r\n\t\t\t\tfetch('https://fedos.pythonanywhere.com/api/v1/task/getlist/?format=json')\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t  global.jsn = result;\r\n\t\t\t\t  this.setState();\r\n\t\t\t\t},\r\n\t\t\t\t// Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n\t\t\t\t// чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n\t\t\t\t(error) => {\r\n\t\t\t\t  console.log(error)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.props.update(PANEL_EVENT_SENT, { event });\r\n                this.props.go(PANEL_EVENT_SENT);\r\n              }}>Задание выполнено</Button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './EventCard.css';\r\nimport { Separator } from '@vkontakte/vkui';\r\nimport Icon24User from '@vkontakte/icons/dist/24/user';\r\nimport Role from './Role';\r\n\r\nfunction EventCard(props) {\r\n  const { title, where, caption, exp, roles, onClick } = props;\r\n\r\n  return ( <div>{title === null ? (<div></div>) : (\r\n    <div className=\"EventCard\" onClick={onClick}>\r\n      <div className=\"EventCard__in\">\r\n        <div className=\"EventCard__header\">\r\n          <div className=\"EventCard__title\">{title}</div>\r\n          <div className=\"EventCard__exp\"><span class=\"new badge red\" data-badge-caption=\"\">{'+ '+exp+' exp'}</span></div>\r\n        </div>\r\n        <div className=\"EventCard__where\">{where}</div>\r\n\r\n        {roles.length > 0 && <div className=\"EventCard__roles\">\r\n          <Separator wide />\r\n          {roles.map((role, index) => {\r\n            return (\r\n              <Role\r\n                key={index}\r\n                name={role.name}\r\n                current={role.current}\r\n                need={role.need}\r\n              />\r\n            );\r\n          })}\r\n          <Separator wide />\r\n        </div>}\r\n\r\n        <div className=\"EventCard__caption\">\r\n          {caption}\r\n        </div>\r\n      </div>\r\n    </div>)\r\n  }</div>);\r\n}\r\n\r\nEventCard.propTypes = {\r\n  title: PropTypes.node,\r\n  exp: PropTypes.node,\r\n  where: PropTypes.node,\r\n  caption: PropTypes.node,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    current: PropTypes.number,\r\n    need: PropTypes.number,\r\n  })),\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nEventCard.defaultProps = {\r\n  roles: [],\r\n};\r\n\r\nexport default EventCard;","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FormLayout, Select, TabComponent, PanelHeader, Tabs, TabsItem, Footer } from '@vkontakte/vkui';\r\nimport { PANEL_EVENT_INFO, PANEL_EVENT_SENT, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, PANEL_WORK_INFO, STATUS_DEFAULT } from '../constants';\r\nimport EventCard from '../Components/EventCard';\r\n\r\nexport default class TabEvents extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    events: PropTypes.array,\r\n  };\r\n\r\n  static defaultProps = {\r\n    events: [],\r\n  };\r\n\r\n  render() {\r\n    const items = this.props.events;\r\n    return (\r\n      <Fragment>\r\n        {!items.length && <Footer>Ничего не найдено</Footer>}\r\n        {items.map((event) => {\r\n          return (\r\n            <EventCard\r\n              key={event.status==STATUS_DEFAULT ? event.id : null}\r\n              title={event.status==STATUS_DEFAULT ? event.title : null  }\r\n              exp={event.status==STATUS_DEFAULT ? event.exp : null  }\r\n              where={event.status==STATUS_DEFAULT ? event.place : null  }\r\n              caption={event.status==STATUS_DEFAULT ? event.description : null}\r\n              onClick={() => {\r\n                this.props.update(PANEL_EVENT_INFO, { event });\r\n                this.props.go(PANEL_EVENT_INFO);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { YMaps, Map, Placemark, ZoomControl, GeolocationControl} from 'react-yandex-maps';\r\nimport \"./TabMap.css\"\r\n\r\nexport default class TabMap extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    isLoaded: false,\r\n    error: '',\r\n  }\r\n  \r\n  render() { \r\n    return (\r\n      <Fragment>\r\n        <div class=\"wrapper\" >\r\n          <YMaps>\r\n                <Map \r\n                  width={1000}\r\n                  height={640}\r\n                  defaultState={{ center: [59.9503007,30.3764863], zoom: 11 }} >\r\n                  <Placemark {... {\r\n                    geometry: [59.9250078,30.2651232],\r\n                    properties: {\r\n\t\t\t\t\t\thintContent: '<strong>Приют для животных \"Брошенный ангел\"</strong>',\r\n\t\t\t\t\t\tballoonContentHeader: '<strong>Приют для животных \"Брошенный ангел\"</strong>',\r\n\t\t\t\t\t\tballoonContentBody: 'ул, Кожевенная линия, 1-3, Санкт-Петербург, <em> 199106</em>',\r\n\t\t\t\t\t\tballoonContentFooter: '8 (812) 925-75-10'\t\t\t\t\t\r\n                    },\r\n                    modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']    \r\n                    }\r\n                  }\r\n                  />\r\n                  <Placemark {...{\r\n                    geometry: [59.8958721,30.4055612],\r\n                    properties: {\r\n\t\t\t\t\t\thintContent: '<strong>Центр помощи бездомным собакам</strong>',\r\n\t\t\t\t\t\tballoonContentHeader: '<strong>Центр помощи бездомным собакам</strong>',\r\n\t\t\t\t\t\tballoonContentBody: 'Большой Смоленский пр., 9, Санкт-Петербург, <em> 192148</em>',\r\n\t\t\t\t\t\tballoonContentFooter: '8 (812) 365-49-69'\t\t                    \r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n                  <Placemark {...{\r\n                    geometry: [59.9258075,30.290122],\r\n                    properties: {\r\n\t\t\t\t\t\thintContent: '<strong>Приют для хорьков \"Северная корона\"</strong>',\r\n\t\t\t\t\t\tballoonContentHeader: '<strong>Приют для хорьков \"Северная корона\"</strong>',\r\n\t\t\t\t\t\tballoonContentBody: 'Лиговский пр., 44, Санкт-Петербург, <em> 191040</em>',\r\n\t\t\t\t\t\tballoonContentFooter: '8 (904) 638-20-50'\r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n\t\t\t\t  <Placemark {...{\r\n                    geometry: [59.9792023,30.2780069],\r\n                    properties: {\r\n\t\t\t\t\t\thintContent: '<strong>Ветклиника \"Красный лис\"</strong>',\r\n\t\t\t\t\t\tballoonContentHeader: '<strong>Ветклиника \"Красный лис\"</strong>',\r\n\t\t\t\t\t\tballoonContentBody: 'Сестрорецкая ул., 8, Санкт-Петербург, <em> 197183</em>',\r\n\t\t\t\t\t\tballoonContentFooter: '8 (812) 430-18-78'\r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n\t\t\t\t  <Placemark {...{\r\n                    geometry: [59.952733,30.431274],\r\n                    properties: {\r\n\t\t\t\t\t\thintContent: '<strong>Ветклиника \"ВетСеть\"</strong>',\r\n\t\t\t\t\t\tballoonContentHeader: '<strong>Ветклиника \"ВетСеть\"</strong>',\r\n\t\t\t\t\t\tballoonContentBody: 'Большая Пороховская ул., 47, Санкт-Петербург, <em> 195248</em>',\r\n\t\t\t\t\t\tballoonContentFooter: '8 (812) 612-11-10'\r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n\r\n                  <ZoomControl options={{ float: 'right' }} />\r\n                </Map>\r\n            </YMaps>\r\n        </div>\r\n        \r\n        \r\n\r\n        <div class=\"loading-element\">\r\n          <img class=\"loading-element__image\" src=\"https://media.giphy.com/media/LPxz7QLDtFSbpfIES8/giphy.gif\" width=\"250\" height=\"250\" >\r\n          </img>\r\n\r\n        </div>\r\n      </Fragment>      \r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n[\r\n  {\r\n    \"id\": 1,\r\n    \"title\": \"Центр помощи бездомным животным \\\"Лучик\\\" г. Надым\",\r\n    \"description\": \"Приют для бездомных животных города Надым\",\r\n    \"image\": \"https://fedos.pythonanywhere.com/api/v1/shelter/getlist/images/schem.JPG\",\r\n    \"members\": \"\",\r\n    \"urlVK\": \"141883313\"\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"title\": \"Приют города Санкт-Петербурга\",\r\n    \"description\": \"Приют для бездомных животных\",\r\n    \"image\": \"https://fedos.pythonanywhere.com/api/v1/shelter/getlist/images/no-img.jpg\",\r\n    \"members\": \"\",\r\n    \"urlVK\": \"147993097\"\r\n  }\r\n]\r\n*/","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tabs, TabsItem, FixedLayout, activeTab, Group, PanelHeader, PanelHeaderBack, Footer } from '@vkontakte/vkui';\r\nimport { PANEL_EVENT_INFO, PANEL_EVENT_SENT, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, PANEL_WORK_INFO, STATUS_REQUESTED, STATUS_APPROVED } from '../constants';\r\nimport EventCard from '../Components/EventCard';\r\n\r\nconst WORK_TAB_ALL = 'all';\r\nconst WORK_TAB_APPROVED = 'approved';\r\n\r\nexport default class TabWork extends Component {\r\n  static propTypes = {\r\n    workActiveTab: PropTypes.string,\r\n    events: PropTypes.array,\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    events: [],\r\n    workActiveTab: WORK_TAB_ALL,\r\n  };\r\n\r\n  openEvent = (e) => {\r\n    this.props.update(PANEL_WORK_INFO, {\r\n      eventName: e.currentTarget.getAttribute('data-event-name'),\r\n    });\r\n\r\n    this.props.go(PANEL_WORK_INFO);\r\n  };\r\n\r\n  render() {\r\n    const status = this.props.workActiveTab === WORK_TAB_ALL ? STATUS_REQUESTED : STATUS_APPROVED;\r\n    const items = this.props.events.filter(i => i.status === status);\r\n\r\n    return (\r\n      <Fragment>\r\n        <Tabs theme=\"light\">\r\n          <TabsItem\r\n            onClick={() => this.props.update(PANEL_MAIN, { workActiveTab: WORK_TAB_ALL })}\r\n            selected={this.props.workActiveTab === WORK_TAB_ALL}\r\n          >\r\n            Зарегистрированные\r\n          </TabsItem>\r\n          <TabsItem\r\n            onClick={() => this.props.update(PANEL_MAIN, { workActiveTab: WORK_TAB_APPROVED })}\r\n            selected={this.props.workActiveTab === WORK_TAB_APPROVED}\r\n          >\r\n            Выполненные\r\n          </TabsItem>\r\n        </Tabs>\r\n\r\n        {!items.length && <Footer>Ничего не найдено</Footer>}\r\n\r\n        {items.map((event) => {\r\n          return (\r\n            <EventCard\r\n              key={event.id}\r\n              title={event.title}\r\n              exp={event.exp}\r\n              where={event.where}\r\n              caption={event.caption}\r\n              roles={event.roles}\r\n              onClick={() => {\r\n                this.props.update(PANEL_EVENT_INFO, { event });\r\n                this.props.go(PANEL_EVENT_INFO);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FixedLayout, Tabs, TabsItem, Select, FormLayout} from '@vkontakte/vkui';\r\nimport { TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, TAB_LOST, TAB_DONATE } from '../constants';\r\nimport TabEvents from './TabEvents';\r\nimport TabAccount from './TabAccount.js';\r\nimport TabMap from './TabMap';\r\nimport TabWork from './TabWork';\r\nimport TabLost from './TabLost';\r\nimport TabDonate from './TabDonate';\r\nimport Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\n\r\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon24BrowserForward from '@vkontakte/icons/dist/24/browser_forward';\r\nimport Icon24Replay from '@vkontakte/icons/dist/24/replay';\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nexport default class Main extends Component {\r\n  static propTypes = {\r\n    activeTab: PropTypes.string,\r\n    go: PropTypes.func.isRequired,\r\n    update: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    activeTab: TAB_EVENTS,\r\n  };\r\n\r\n  onTabClick = (e) => {\r\n    this.props.update(PANEL_MAIN, {\r\n      activeTab: e.currentTarget.dataset.id,\r\n    });\r\n  };\r\n\r\n  refreshPage(){\r\n    window.location.reload();\r\n  }\r\n\r\n  onDonate = (e) => {\r\n    /*connect.send(\"VKWebAppInit\", {});\r\n    connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"pay-to-group\", \r\n          \"params\": {\"group_id\": 180054668}});*/\r\n    this.props.update(PANEL_MAIN, {\r\n      activeTab: TAB_DONATE,\r\n    });\r\n  };\r\n  \r\n\r\n  getTabComponent = () => {\r\n    const { activeTab } = this.props;\r\n\r\n    switch (activeTab) {\r\n      case TAB_EVENTS:\r\n        return TabEvents;\r\n\r\n      case TAB_WORK:\r\n        return TabWork;\r\n\r\n      case TAB_MAP:\r\n        return TabMap;\r\n\r\n      case TAB_ACCOUNT:\r\n        return TabAccount;\r\n      \r\n        case TAB_LOST:\r\n        return TabLost;\r\n\r\n        case TAB_DONATE:\r\n        return TabDonate;\r\n\r\n      default:\r\n        return <div>Что-то пошло не так, нет такой вкладки</div>;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { activeTab } = this.props;\r\n    const TabComponent = this.getTabComponent();\r\n\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>Лапка помощи</PanelHeader>\r\n        <TabComponent\r\n          {...this.props}\r\n        />\r\n\t\t\t<div class=\"fixed-action-btn\"  style={{position: \"relative\"}}>\r\n              <a className=\"btn-floating btn-large waves-effect waves-light\" style={{bottom: 60, left: 15, position: \"fixed\", border: \"2px solid #000\"}} onClick={this.refreshPage}>\r\n                <img src=\"https://sun9-60.userapi.com/c858016/v858016157/bfa2f/EafeESlMfjI.jpg\"/>\r\n              </a>\r\n              <a class=\"btn-floating btn-large waves-effect waves-light\" style={{bottom:60, right: 15, position: \"fixed\", border: \"2px solid #000\"}} onClick={this.onDonate}>\r\n                  {/*<i class=\"large material-icons\">attach_money</i>*/}\r\n                  <img src=\"https://sun9-31.userapi.com/c857328/v857328281/20302/L6VRcd72khg.jpg\"/>\r\n\t\t\t\t</a>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <FixedLayout vertical=\"bottom\">\r\n          <Tabs>\r\n            <TabsItem\r\n              data-id={TAB_EVENTS}\r\n              selected={activeTab === TAB_EVENTS}\r\n              onClick={this.onTabClick}\r\n            ><Icon20CalendarOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_WORK}\r\n              selected={activeTab === TAB_WORK}\r\n              onClick={this.onTabClick}\r\n            ><Icon20ArticleOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_MAP}\r\n              selected={activeTab === TAB_MAP}\r\n              onClick={this.onTabClick}\r\n            ><Icon20PlaceOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_LOST}\r\n              selected={activeTab === TAB_LOST}\r\n              onClick={this.onTabClick}\r\n            > <Icon24BrowserForward width={25} height={25}/></TabsItem>\r\n\r\n\r\n            <TabsItem\r\n              data-id={TAB_ACCOUNT}\r\n              selected={activeTab === TAB_ACCOUNT}\r\n              onClick={this.onTabClick}\r\n            ><Icon28Profile width={25} height={25}/></TabsItem>\r\n          </Tabs>\r\n        </FixedLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}"],"sourceRoot":""}